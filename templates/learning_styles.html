<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Learning Style Diagnostic Test | Scholar AI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  <style>
    /* Basic styling for the slider-based test */
    ol li {
      background-color: #e4e1e1;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .slider-container {
      display: flex;
      align-items: center;
      max-width: 500px;
      margin-top: 10px;
    }
    .slider-label {
      width: 60px;
      font-weight: bold;
    }
    .slider {
      flex: 1;
      margin: 0 10px;
      -webkit-appearance: none;
      height: 10px;
      border-radius: 5px;
      background: #ccc;
      outline: none;
    }
    /* Webkit Thumb */
    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #295281;
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    /* Styling for the result modal */
    #result-modal {
      display: none;
      position: fixed;
      z-index: 200;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.5);
      align-items: center;
      justify-content: center;
    }
    #result-modal .modal-content {
      background: #fff;
      margin: auto;
      padding: 20px;
      border-radius: 8px;
      width: 80%;
      max-width: 400px;
      position: relative;
      animation: fadeIn 0.3s;
      text-align: center;
    }
    #result-modal .close {
      position: absolute;
      right: 15px;
      top: 10px;
      font-size: 24px;
      cursor: pointer;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Learning Style Diagnostic Test</h1>
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/chatbot">Chatbot</a></li>
          <li><a href="/diagnostic">Diagnostic Test</a></li>
          <li><a href="/schedule">Schedule</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <section>
      <h2>Instructions</h2>
      <p>
        For each statement below, adjust the slider to indicate your level of agreement.
        The left end represents "Agree" and the right end "Disagree." The slider's midpoint is neutral.
        Answer all 20 questions honestly to help determine your best learning style.
      </p>
    </section>

    <form id="learning-style-form">
      <ol>
        <!-- Question 1 (Kinesthetic) -->
        <li>
          <p>I prefer hands-on learning activities to understand new concepts.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q1" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 2 (Visual) -->
        <li>
          <p>I learn best when I use diagrams, charts, or other visual aids.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q2" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 3 (Auditory) -->
        <li>
          <p>I remember things better when I hear them rather than when I read them.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q3" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 4 (Reading/Writing) -->
        <li>
          <p>I learn best when I take notes or write summaries of what I'm studying.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q4" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 5 (Kinesthetic) -->
        <li>
          <p>I enjoy learning through physical movement or role-playing activities.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q5" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 6 (Auditory) -->
        <li>
          <p>I learn best by listening to lectures or discussions.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q6" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 7 (Visual) -->
        <li>
          <p>I find it easier to understand complex concepts when I see them visually.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q7" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 8 (Reading/Writing) -->
        <li>
          <p>I find that writing summaries or lists helps me understand and remember information.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q8" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 9 (Kinesthetic) -->
        <li>
          <p>I often remember information better when I can touch or manipulate objects related to the subject.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q9" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 10 (Auditory) -->
        <li>
          <p>I prefer to discuss topics with others to understand them.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q10" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 11 (Visual) -->
        <li>
          <p>I often use visual aids such as images or videos to support my learning.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q11" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 12 (Reading/Writing) -->
        <li>
          <p>I often use written instructions or textbooks to study new topics.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q12" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 13 (Kinesthetic) -->
        <li>
          <p>I find it easier to understand instructions if I can perform the task immediately.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q13" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 14 (Auditory) -->
        <li>
          <p>I often use my voice to help memorize and process information.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q14" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 15 (Visual) -->
        <li>
          <p>I prefer reading materials that include pictures or infographics.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q15" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 16 (Reading/Writing) -->
        <li>
          <p>I enjoy taking detailed notes and rewriting them to reinforce my learning.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q16" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 17 (Kinesthetic) -->
        <li>
          <p>I enjoy learning through physical activities and interactive experiences.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q17" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 18 (Auditory) -->
        <li>
          <p>I find that listening to audio recordings aids my learning.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q18" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 19 (Visual) -->
        <li>
          <p>I recall information better when I see it in written or drawn form.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q19" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
        <!-- Question 20 (Reading/Writing) -->
        <li>
          <p>I enjoy writing out detailed explanations to help myself understand a topic better.</p>
          <div class="slider-container">
            <span class="slider-label">Agree</span>
            <input type="range" name="q20" class="slider" min="1" max="100" value="50" required>
            <span class="slider-label">Disagree</span>
          </div>
        </li>
      </ol>
      <button type="submit">Submit Test</button>
    </form>
  </main>

  <!-- Result Modal -->
  <div id="result-modal">
    <div class="modal-content">
      <span class="close" onclick="closeResultModal()">&times;</span>
      <h2>Your Preferred Learning Style</h2>
      <p id="result-text"></p>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 Scholar AI. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Update each slider's background so blue fills from the center.
    const sliders = document.querySelectorAll('.slider');
    sliders.forEach(slider => {
      slider.addEventListener('input', function() {
        const val = parseInt(this.value);
        if (val >= 50) {
          // For values above center, blue fills from 50% to current value.
          this.style.background = `linear-gradient(to right, #ccc 0%, #ccc 50%, #4a90e2 50%, #4a90e2 ${val}%, #ccc ${val}%, #ccc 100%)`;
        } else {
          // For values below center, blue fills from current value to 50%.
          this.style.background = `linear-gradient(to right, #ccc 0%, #ccc ${val}%, #4a90e2 ${val}%, #4a90e2 50%, #ccc 50%, #ccc 100%)`;
        }
      });
      // Initialize the slider background.
      slider.dispatchEvent(new Event('input'));
    });

    document.getElementById('learning-style-form').addEventListener('submit', function(event) {
      event.preventDefault();
      // Gather slider responses
      const q1 = parseInt(document.querySelector('input[name="q1"]').value);
      const q2 = parseInt(document.querySelector('input[name="q2"]').value);
      const q3 = parseInt(document.querySelector('input[name="q3"]').value);
      const q4 = parseInt(document.querySelector('input[name="q4"]').value);
      const q5 = parseInt(document.querySelector('input[name="q5"]').value);
      const q6 = parseInt(document.querySelector('input[name="q6"]').value);
      const q7 = parseInt(document.querySelector('input[name="q7"]').value);
      const q8 = parseInt(document.querySelector('input[name="q8"]').value);
      const q9 = parseInt(document.querySelector('input[name="q9"]').value);
      const q10 = parseInt(document.querySelector('input[name="q10"]').value);
      const q11 = parseInt(document.querySelector('input[name="q11"]').value);
      const q12 = parseInt(document.querySelector('input[name="q12"]').value);
      const q13 = parseInt(document.querySelector('input[name="q13"]').value);
      const q14 = parseInt(document.querySelector('input[name="q14"]').value);
      const q15 = parseInt(document.querySelector('input[name="q15"]').value);
      const q16 = parseInt(document.querySelector('input[name="q16"]').value);
      const q17 = parseInt(document.querySelector('input[name="q17"]').value);
      const q18 = parseInt(document.querySelector('input[name="q18"]').value);
      const q19 = parseInt(document.querySelector('input[name="q19"]').value);
      const q20 = parseInt(document.querySelector('input[name="q20"]').value);
      
      // Invert scores: lower slider value (closer to Agree) gives higher points.
      const kinesthetic = (101 - q1) + (101 - q5) + (101 - q9) + (101 - q13) + (101 - q17);
      const auditory = (101 - q2) + (101 - q6) + (101 - q10) + (101 - q14) + (101 - q18);
      const visual = (101 - q3) + (101 - q7) + (101 - q11) + (101 - q15) + (101 - q19);
      const readingWriting = (101 - q4) + (101 - q8) + (101 - q12) + (101 - q16) + (101 - q20);
      
      // Determine which category has the highest score.
      const maxScore = Math.max(kinesthetic, auditory, visual, readingWriting);
      let learnerType = "";
      
      if (maxScore === kinesthetic) {
        learnerType = "Kinesthetic";
      } else if (maxScore === auditory) {
        learnerType = "Auditory";
      } else if (maxScore === visual) {
        learnerType = "Visual";
      } else if (maxScore === readingWriting) {
        learnerType = "Reading/Writing";
      }
      
      document.getElementById("result-text").innerText = "Your preferred learning style is: " + learnerType;
      document.getElementById("result-modal").style.display = "flex";
    });
    
    function closeResultModal() {
      document.getElementById("result-modal").style.display = "none";
    }
    
    window.onclick = function(event) {
      const modal = document.getElementById("result-modal");
      if (event.target === modal) {
        modal.style.display = "none";
      }
    }
  </script>
</body>
</html>
